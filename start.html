<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Paritaire - Configure Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="css/style.css" rel="stylesheet" media="screen">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    
    <div class="container">
    
	    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		    <div class="navbar-header">
		      <a href="index.html" class="navbar-brand">paritaire</a>
		    </div>
		    <nav class="navbar-collapse bs-navbar-collapse" role="navigation">
		      <ul class="nav navbar-nav">
		        <li><a href="start.html">New</a></li>
		        <li><a href="public.html">Public</a></li>
		        <li><a href="rules.html">Rules</a></li>
		      </ul>
		    </nav>
	    </div>
    
			<div class="well well-lg">
     		<h1>Game Settings</h1>
					<div class="row">
				
						<div class="col-md-4 col-sm-4 col-xs-12">
	  			  	<h3 class="center">Field Size</h3>
              <div class="center">
	              <select id="dim">
	 	              <option value="4">4</option>
	 	              <option value="8" selected>8</option>
	 	              <option value="10">10</option>
	 	              <option value="16">16</option>
	 	          	</select>
	 	          </div>
	 	        	<h3 class="center">Game Mode</h3>
	 	        	<div id="game_type">
	 	          	<div class="radio">
				    			<label>
	                   <input type="radio" name="online" id="online" value="1" checked>
	                   Online (Multi Device)
	                 </label>
			  				</div>		
				  			<div class="radio">
									<label>
		      					<input type="radio" name="online" id="local" value="0">
										Local (Single Device)
									</label>
				  			</div>
				  			<div class="radio">
									<label>
		      					<input type="radio" name="online" id="local" value="0" disabled>
										Adventure (Single Device)
									</label>
				  			</div>
				  		</div>
    	      </div>
					
  			  	<div class="col-md-4 col-sm-4 col-xs-6 center">
 			  			<h3>
 			  				Color 1
 			  				<nobr> 
		 			      	<a href="#carousel-player-1" data-slide="prev">
		 			      		<span class="glyphicon glyphicon-chevron-left"></span>
		 			      	</a>
		 			      	<a href="#carousel-player-1" data-slide="next">
		 			      		<span class="glyphicon glyphicon-chevron-right"></span>
		 			      	</a>
		 			      </nobr>
 			      	</h3>
 			      	
 			      	<div id="carousel-player-1" class="carousel slide" data-interval="false">
 				
 				  			<!-- Wrapper for slides -->
 				  			<a href="#carousel-player-1" data-slide="next">
	 				  			<div class="carousel-inner">
	   			    			<div class="item active" id="blue"><img src="img/blue.png" alt="blue tile"></div>
	    			  			<div class="item" id="red"><img src="img/red.png" alt="red tile"></div>
	    			  			<div class="item" id="green"><img src="img/green.png" alt="green tile"></div>
	    			  			<div class="item" id="orange"><img src="img/orange.png" alt="orange tile"></div>
	    			  			<div class="item" id="violet"><img src="img/violet.png" alt="violet tile"></div>
	    			  			<div class="item" id="yellow"><img src="img/yellow.png" alt="yellow tile"></div>
	 								</div>
 								</a>

		  				</div>
  			  	</div>
  			  
  			  	<div class="col-md-4 col-sm-4 col-xs-6 center">
 			    		<h3>
	 			    		Color 2 
	 			    		<nobr>
		 			      	<a href="#carousel-player-2" data-slide="prev">
		 			      		<span class="glyphicon glyphicon-chevron-left"></span>
		 			      	</a>
		 			      	<a href="#carousel-player-2" data-slide="next">
		 			      		<span class="glyphicon glyphicon-chevron-right"></span>
		 			      	</a>
		 			      </nobr>
	 			      </h3>
 			      	
 			      	<div id="carousel-player-2" class="carousel slide" data-interval="false">
 				
 				  			<!-- Wrapper for slides -->
	 				  		<a href="#carousel-player-2" data-slide="next">
	 				  			<div class="carousel-inner">
	   			    			<div class="item" id="blue"><img src="img/blue.png" alt="blue tile"></div>
	    			  			<div class="item active" id="red"><img src="img/red.png" alt="red tile"></div>
	    			  			<div class="item" id="green"><img src="img/green.png" alt="green tile"></div>
	    			  			<div class="item" id="orange"><img src="img/orange.png" alt="orange tile"></div>
	    			  			<div class="item" id="violet"><img src="img/violet.png" alt="violet tile"></div>
	    			  			<div class="item" id="yellow"><img src="img/yellow.png" alt="yellow tile"></div>
	 								</div>
	 							</a>

		  				</div>
  			  	</div>
  			  </div>
  			  	
 			  	<script type="text/javascript">
 			  		function validate() {
 			  			
							alertText = document.getElementById('validation_advice');
 			  			colors = document.getElementsByClassName("active");
 			  			
 			  			if(colors[0].id == colors[1].id) {
 			  				
 			  			alertText.innerHTML = "<b> Problem: </b> You can not both be " + colors[0].id + "!";
							//alertText.style.display = "block";
							$("#validation_advice").removeClass("hide");
							
 			  			} else {
 			  				
 			  				var postData = { 
 			  							col1: colors[0].id, 
											col2: colors[1].id, 
											dim: document.getElementById('dim').value, 
											online: $('#online').prop('checked')
										};
										
								var callback = function (data, status) {
							
									if(status == "success" && data.length) { 
										
										window.location.href = "/play.html?id=" + data;
									} else {
								
										alertText.style.display = "block";
										alertText.innerHTML = "<b> Problem: </b> Invalid session parameters!";
									}
								};
										
 			  				$.post("create", postData, callback);
 			  			}
 			  		}
 			  	</script>
  			  	
 			  	<div class="row">
  			  	<div class="col-md-12">
  			  		<input type="button" value="Ready!" class="btn btn-primary wide" onclick="validate();">
		  				<div id="validation_advice" class="alert alert-danger hide"></div>
		  			</div> 
		  		</div>
      	</div>

      	<!-- Site footer -->
      	<div class="footer right">
        	<p>Â© Blueprint 2013</p>
      	</div>

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
